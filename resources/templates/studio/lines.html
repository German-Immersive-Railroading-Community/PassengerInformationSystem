<!DOCTYPE html>
<html>
    <head>
    	<div th:replace="components :: head"></div>
        <title>PIS Studio - Lines</title>
    </head>
    <body>
		<div th:replace="components :: menu"></div>
		<script>setMenuFocus("Studio")</script>
		<script>reload()</script>
		
		<div th:replace="components :: navigation"></div>
		<script>setNavigationFocus("Lines")</script>
		<div class="navigation-content">
			<div style="margin: 0px auto; padding: 50px 50px; max-width: 1200px;">
				<div style="display: flex;"><div class="width-100"></div>
					<a class="button mg-b" th:href="@{/studio/lines/edit}">New</a>
				</div>	
				<div class="overflow r-1 nowrap">
					<table>
						<tr>
							<th style="width: fit-content;">ID</th>
							<th>Departure</th>
							<th class='width-100'>Name</th>
							<th>From</th>
							<th>To</th>
							<th>Operator</th>
							<th>Driver</th>
							<th></th>
						</tr>
						<tr th:each="line : ${lines}">
							<td style="width: fit-content;"><span class="transparent-blue r-1" style="padding: 0px 5px;" th:text="${line.id}"></span></td>
							<td th:text="${line.departure}"></td>
							<td>
								<span th:text="${line.getName()}"></span>&nbsp;
								<label class="red" th:if="${line.cancelled}">CANCELLED</label>
								<label th:classappend="${line.delay} > 5? 'red' : 'yellow'" th:text="'+' + ${line.delay}" th:unless="${line.delay} < 2 or ${line.cancelled}"></label>
							</td>
							<td th:text="${line.getFirstStation() != null ? line.getFirstStation().name : ''}"></td>
							<td th:text="${line.getLastStation() != null ? line.getLastStation().name : ''}"></td>
							<td th:text="${line.operator}"></td>
							<td th:text="${line.driver}"></td>
							<td><a class="button" th:href="@{'/studio/lines/edit?&id=' + ${line.id}}">Edit</a></td>
						</tr>
					</table>
				</div>
			</div>
		</div>

    </body>
</html>